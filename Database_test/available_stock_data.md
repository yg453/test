# A股开源数据获取能力报告

**测试日期**: 2026-02-04  
**测试环境**: Python 3.12 / macOS (国内网络)  
**测试库**: Baostock (成功), AKShare (连接被重置), yfinance (限流)

> **注意**: 经多次测试，在当前网络环境下，`AKShare` 和 `yfinance` 均存在网络连接问题（分别为远程断开和API限流）。虽然已正确安装，但无法稳定获取数据。因此，本报告主要基于 **Baostock** 提供的稳定数据字段生成，这足以支持基础的日线级别量化分析。

---

## 1. 核心交易数据 (已验证可用 - Baostock)

基于 **Baostock** 接口实测，以下数据可稳定获取，适合用于构建基础量化数据库。

### 日频交易数据 (Daily K-Line)
| 字段代码 | 中文名称 | 数据类型 | 描述/单位 |
| :--- | :--- | :--- | :--- |
| `date` | 交易日期 | String | 格式：YYYY-MM-DD |
| `code` | 股票代码 | String | 格式：sh.600000 (交易所.代码) |
| `open` | 开盘价 | Float | 单位：元 |
| `high` | 最高价 | Float | 单位：元 |
| `low` | 最低价 | Float | 单位：元 |
| `close` | 收盘价 | Float | 单位：元 |
| `preclose` | 前收盘价 | Float | 昨日收盘价，用于计算涨跌 |
| `volume` | 成交量 | Int | 单位：股 |
| `amount` | 成交额 | Float | 单位：元 |
| `adjustflag` | 复权状态 | Int | 3:不复权 (默认), 1:后复权, 2:前复权 |
| `turn` | 换手率 | Float | 单位：% (需注意部分源可能需转换) |
| `pctChg` | 涨跌幅 | Float | 单位：% |
| `peTTM` | 滚动市盈率 | Float | (Baostock 可提供，需额外接口) |
| `pbMRQ` | 市净率 | Float | (Baostock 可提供，需额外接口) |

### 股票列表与基础信息
| 字段代码 | 中文名称 | 描述 |
| :--- | :--- | :--- |
| `code` | 证券代码 | 唯一标识 |
| `tradeStatus` | 交易状态 | 1:正常交易 0:停牌 |
| `code_name` | 证券名称 | 股票简称 |

---

## 2. 扩展数据 (理论可用，需网络优化)

以下数据通过 **AKShare** 接口提供。虽然在本次测试中因网络/反爬原因未直接跑通，但它们是开源界最丰富的数据集。如果在本地家用宽带或配置了高质量代理IP的环境下，通常可以获取。

### 实时行情 (Real-time)
*   **买卖五档**: 买1-买5、卖1-卖5的价格和手数
*   **最新逐笔**: 每一笔成交的时间、价格、手数、买卖方向

### 资金流向
*   **个股资金流**: 主力净流入、超大单、大单、中单、小单流入流出情况
*   **板块资金流**: 行业板块、概念板块的资金进出

### 财务数据
*   **资产负债表**: 总资产、负债、股东权益等
*   **利润表**: 营收、净利润、EPS等
*   **现金流量表**: 经营、投资、筹资现金流

### 市场情绪与特色数据
*   **龙虎榜数据**: 每日上榜个股及营业部买卖情况
*   **两融数据**: 融资余额、融券余额
*   **北向资金**: 沪股通、深股通每日净流入

---

## 3. 数据库设计建议

为了制作量化工具的数据库，建议以 **Baostock** 为主数据源（稳定性高），构建核心表结构。

### 建议表结构 (SQLite/MySQL)

**表名: `daily_prices` (日线行情)**

```sql
CREATE TABLE daily_prices (
    trade_date DATE NOT NULL,       -- 交易日期
    stock_code VARCHAR(10) NOT NULL, -- 股票代码 (如 sh.600000)
    open_price DECIMAL(10,2),       -- 开盘
    close_price DECIMAL(10,2),      -- 收盘
    high_price DECIMAL(10,2),       -- 最高
    low_price DECIMAL(10,2),        -- 最低
    volume BIGINT,                  -- 成交量
    amount DECIMAL(20,2),           -- 成交额
    turnover_rate DECIMAL(10,4),    -- 换手率
    pct_chg DECIMAL(10,4),          -- 涨跌幅
    pe_ttm DECIMAL(10,4),           -- 滚动市盈率 (可选)
    PRIMARY KEY (trade_date, stock_code)
);
```

### 总结
目前阶段，**完全可以通过 Baostock 建立起一个包含过去数十年A股所有股票日线数据的完整数据库**。这足以支持大部分趋势跟踪、均线策略和技术面因子的回测。
